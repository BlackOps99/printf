#include "main.h"
int print_number(unsigned int number);
int count_digits(unsigned int num);
int extract_digit(unsigned int num, int index);

int toInt(va_list value)
{
int n = va_arg(value, int);
unsigned int un_n;
int char_count = 0;  // To keep track of characters printed

if (n < 0)
{
un_n = -n;
_putchar('-');
char_count++;  // Increase the count for '-' character
}
else
{
un_n = n;
}

if (un_n == 0)
	{
_putchar('0');
char_count++;   // Increase the count for '0'
return char_count;
}

char_count += print_number(un_n); // Get count of digits printed
return char_count;
}

int print_number(unsigned int number)
{
int count = count_digits(number);
int i = 0;

for (i = count; i > 0; i--)
{
int digit = extract_digit(number, i);
_putchar(digit + '0');
}

return count;
}

int count_digits(unsigned int num)
{
int digits = 0;

while (num)
{
digits++;
num /= 10;
}
return digits;
}

int extract_digit(unsigned int num, int index)
{
int i = 0;

for (i = 0; i < index - 1; i++)
{
num /= 10;
}

return (num % 10);
}
